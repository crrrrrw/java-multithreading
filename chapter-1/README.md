# 第1章 java多线程技能
## 1.1进程与多线程的概念及线程优点

### 1.1.1. 定义

进程是**具有一定独立功能的程序关于某个数据集合上的一次运行活动**,进程是系统进行资源分配和调度的一个独立单位.

**线程是进程的一个实体**,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位.线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源.


### 1.1.2.关系
一个线程可以创建和撤销另一个线程;同一个进程中的多个线程之间可以并发执行.

相对进程而言，线程是一个更加接近于执行体的概念，它可以与同进程中的其他线程共享数据，但拥有自己的栈空间，拥有独立的执行序列。


### 1.1.3.区别
进程和线程的主要差别在于它们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程只是一个进程中的不同执行路径。线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线程的程序健壮，但在进程切换时，耗费资源较大，效率要差一些。**但对于一些要求同时进行并且又要共享某些变量的并发操作，只能用线程，不能用进程。**

1) 简而言之,一个程序至少有一个进程,一个进程至少有一个线程.

2) 线程的划分尺度小于进程，使得多线程程序的并发性高。

3) 另外，进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。

4) 线程在执行过程中与进程还是有区别的。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。**但是线程不能够独立执行，必须依存在应用程序中**，由应用程序提供多个线程执行控制。

5) 从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。

### 1.1.4.优缺点
线程和进程在使用上各有优缺点：线程执行开销小，但不利于资源的管理和保护；而进程正相反。同时，线程适合于在SMP机器上运行，而进程则可以跨机器迁移。

摘自：http://blog.csdn.net/yaosiming2011/article/details/44280797
     



## 1.2使用多线程
1.2.1 继承Thread类  
1.2.2 实现Runnable接口  
1.2.3 实例变量与线程安全
1.2.4 留意 i-- 与 System.out,println()的异常
```
class MyThread extends Thread {
    private int i = 5;

    @Override
    public void run() {
        System.out.println("i=" + (i--) + "threadName=" + this.currentThread().getName());
    }
}
``` 
虽然println()方法内部是同步的:
```
    public void println(String x) {
        synchronized (this) {
            print(x);
            newLine();
        }
    }
```
但i--操作是进入println()之前发生的，有可能发生线程不安全。


## 1.3 一些基本api
isAlive() 测试线程是否处于活动状态  
sleep() 让“正在执行的线程”休眠  
getId() 取得线程唯一标识  
yield() 放弃当前的CPU资源  
currentThread() 返回代码段正在被哪个线程调用的信息

废弃的方法：stop(),suspend(),resume()等
## 1.4 停止线程

## 1.5 暂停线程

## 1.6 线程优先级

## 1.7 守护线程
